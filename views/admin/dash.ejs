<!DOCTYPE html>
<html>

<head>
    <!-- Required Stuff -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>kawaii.sh</title>
    <link rel="stylesheet" href="/assets/libs/bulma-0.8.0/css/bulma.min.css">
    <script defer src="/assets/libs/fontawesome-5.12.1/js/all.js"></script>
    <script src="/assets/libs/axios.min.js"></script>
    <script src="/assets/libs/jquery-3.4.1.min.js"></script>
    <link rel="stylesheet" type="text/css" href="/admin/dash/style.css"></link>
    <link rel="stylesheet" href="/assets/libs/swal-dark.css">
    <script src="/assets/libs/sweetalert2.min.js"></script>

    <%- include('../partials/meta') %>
</head>

<body>
    <section class="hero is-success is-fullheight has-background-black">
        <div class="hero-body">
            <div class="container has-text-centered">
                <h1 class="title">
                    Dashboard
                </h1>


                <div>
                    <!-- Tab links -->
                    <div id="tablinks" style="display: flex; justify-content: center;" class="buttons has-addons">
                        <button class="button is-link is-outlined" onclick="openTab(event, 'uploads')">Uploads</button>
                        <button class="button is-link is-outlined" onclick="openTab(event, 'users')">Users</button>
                        <% if (inviteOnly == true) { %> <button id="regkeytab" class="button is-link is-outlined" onclick="openTab(event, 'regkey')">Regkeys</button> <% } %>
                        <button class="button is-link is-outlined" onclick="logout()">Logout</button>
                    </div>


                    <!-- Tab content -->
                    <div id="uploads" class="tabcontent">
                        <h2 class="subtitle">File search</h2>
                        <p><div id="uplErr" style="margin-bottom: 20px; margin-top: -20px; display: none;"><p class="tag is-danger">No search results found!</p></div></p>

                        <div class="field">
                            <label style="color: #4f4f4f; margin-top: -20px;" class="label">Either blank for all or exact filename!</label>
                            <div class="control">
                                <center>
                                    <input class="input" id="filesearch"
                                        style="max-width: 300px; background-color: #141414; border-color: #3273dc; color: white; text-align: center;"
                                        type="text">
                                </center>
                            </div>
                        </div>
                        <button onclick="getListUpload()" style="margin-bottom: 5px;"
                            class="button is-link is-outlined is-small">Search</button>

                        <div style="overflow: hidden;" id="efs"></div>

                    </div>


                    <!-- Tab content -->
                    <div id="users" class="tabcontent">
                        <h2 class="subtitle">User search</h2>
                        <p><div id="usrErr" style="margin-bottom: 20px; margin-top: -20px; display: none;"><p class="tag is-danger">No search results found!</p></div></p>

                        <div class="field">
                            <label style="color: #4f4f4f; margin-top: -20px;" class="label">Either blank for all or exact username!</label>
                            <div class="control">
                                <center>
                                    <input class="input" id="usersearch"
                                        style="max-width: 300px; background-color: #141414; border-color: #3273dc; color: white; text-align: center;"
                                        type="text">
                                </center>
                            </div>
                        </div>
                        <button onclick="getListUsers()" style="margin-bottom: 5px;"
                            class="button is-link is-outlined is-small">Search</button>

                        <div style="overflow: hidden;" id="efsusr"></div>
                    </div>


                    <!-- Tab content -->
                    <div id="regkey" class="tabcontent">
                        <h2 class="subtitle">Regkey</h2>

                        <div class="field">
                            <label style="color: #4f4f4f; margin-top: -20px;" class="label">Generate one time
                                registration keys!</label>
                            <div class="control">
                                <center>
                                    <button onclick="regKeyGen()" style="margin-bottom: 5px;"
                                        class="button is-link is-outlined">Generate Regkey!</button>
                                </center>
                            </div>
                        </div>
                    </div>
                    

                    <%- include('../partials/footer') %>

                </div>
            </div>
        </div>
    </section>
    <script src="/admin/dash/script.js"></script>
</body>

</html>